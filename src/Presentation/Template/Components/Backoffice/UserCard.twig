<div class="bg-white border rounded-xl shadow-sm p-5 hover:shadow-md transition">
    <div class="flex items-center space-x-4 mb-4">
        <img src="img/users/{{ user.id }}/profile_pictures/{{ user.userData.avatar }}" class="size-20 rounded-full">
        <div class="ml-4">
            <h2 class="text-lg font-bold text-gray-800">{{ user.userData.firstName }} {{ user.userData.lastName }}</h2>
            <p class="text-sm text-gray-500">{{ user.emailAddress.value }}</p>
            <div class="mt-2 space-x-2">
                {% if user.isAnonymous %}
                <p class="w-fit px-4 py-2 rounded-full text-xs text-white bg-yellow-600">Anonyme</p>
                {% endif %}
                {% if user.hasBeenDelegate() %}
                <p class="w-fit px-4 py-2 rounded-full text-xs text-white bg-blue-600">DÃ©lÃ©guÃ©</p>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="flex flex-col sm:flex-row justify-between items-start gap-3">
        {% if user.studentData is not empty %}
        <div class="mb-3">
            <h3 class="text-sm font-semibold text-gray-700 mb-1">ðŸŽ“ Parcours Ã©tudiant</h3>
            {% for student in user.studentData %}
            <p class="text-sm text-gray-700">
                {{ student.prom.name }} â€” {{ student.yearName }}
                {% if student.graduatedAt %}
                ({{ student.startedAt|date('Y') }} - {{ student.graduatedAt|date('Y') }})
                {% else %}
                (depuis {{ student.startedAt|date('Y') }})
                {% endif %}
            </p>
            {% endfor %}
        </div>
        {% endif %}
    
        {% if user.userJobData %}
        <div class="mb-3">
            <h3 class="text-sm font-semibold text-gray-700 mb-1">Emploi</h3>
            <p class="text-sm text-gray-700">{{ user.userJobData.position }} chez {{ user.userJobData.company }}</p>
            <p class="text-xs text-gray-500">
            Depuis {{ user.userJobData.startedAt|date('m/Y') }}
            {% if user.userJobData.stoppedAt %}
                â€“ {{ user.userJobData.stoppedAt|date('m/Y') }}
            {% endif %}
            </p>
        </div>
        {% endif %}
    </div>

    {% if user.deactivations is not empty %}
    <div class="bg-red-50 border border-red-200 rounded-lg p-3 text-sm">
        {% for d in user.deactivations %}
        <p class="text-gray-700">DÃ©sactivÃ© du {{ d.startedAt|date('d/m/Y') }} au {{ d.endsAt|date('d/m/Y') }}</p>
        <p class="text-xs text-gray-600">Origine : {{ d.origin }}</p>
        {% endfor %}
    </div>
    {% endif %}

    <button type="button" class="w-full mx-auto my-4 px-4 py-2 rounded-md border-red-800 border-2 border-solid hover:bg-red-800 hover:text-white hover:cursor-pointer transition-all duration-200" onclick="openUserReportModal('{{ user.id }}')">
        Signaler ce compte pour suppression
    </button>
</div>