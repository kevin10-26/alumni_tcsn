<div class="w-full max-w-5xl mx-auto bg-white rounded-2xl shadow border border-gray-200">
    <div class="flex border-b">
      <button id="tab-list" class="backoffice-announce-tablink flex-1 py-3 text-center font-semibold text-blue-700 border-b-2 border-blue-700" onclick="switchAnnounceTab('announcements-list');">
        Liste des annonces
      </button>
      <button id="tab-create" class="backoffice-announce-tablink flex-1 py-3 text-center font-semibold text-gray-600 hover:text-blue-700" onclick="switchAnnounceTab('announcement-form');">
        Nouvelle annonce
      </button>
    </div>
  
    <!-- Liste des annonces -->
    <div id="announcements-list" class="backoffice-announce-tabcontent p-6 space-y-4">
      {% for a in announcements %}
      <div id="announce-card-{{ a.id }}" class="bg-white border rounded-xl shadow-sm p-5 hover:shadow-md transition">
        <div class="flex justify-between items-start">
          <div>
            <h2 class="text-xl font-bold text-gray-800">{{ a.title }}</h2>
            <p class="text-sm text-gray-500 mb-2">PubliÃ© par {{ a.author.userData.firstName }} {{ a.author.userData.lastName }} â€“ {{ a.createdAt|date('d/m/Y H:i') }}</p>
            <p class="text-gray-700">{{ a.content }}</p>
          </div>
          <div class="space-x-2">
            <button
              class="text-sm px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"
              onclick="editAnnouncement({{ a.id }}, '{{ a.title|e('js') }}', '{{ a.content|e('js') }}');"
            >
              âœï¸ Modifier
            </button>
            <button
              class="text-sm px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition"
              onclick="deleteAnnouncement({{ a.id }});"
            >
              ğŸ—‘ï¸ Supprimer
            </button>
          </div>
        </div>
      </div>
      {% else %}
        <p class="text-center text-gray-500 italic">Aucune annonce publiÃ©e.</p>
      {% endfor %}
    </div>
  
    <!-- Formulaire de crÃ©ation / modification -->
    <div id="announcement-form" class="backoffice-announce-tabcontent hidden p-6">
      <form id="form-announcement" action="./announces/create" method="POST">
        <input type="hidden" id="announcement-id" name="id">
  
        <div class="mb-4">
          <label class="block text-sm font-semibold text-gray-700 mb-1" for="title">Titre</label>
          <input id="title" name="title" type="text" required
                 class="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
  
        <div class="mb-4">
          <label class="block text-sm font-semibold text-gray-700 mb-1" for="content">Contenu</label>
          <textarea id="content" name="content" rows="4" required
                    class="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
        </div>
  
        <div id="announce-disclaimer" class="mb-4 hidden">
            Vous modifiez une publication existante. Rechargez la page pour pouvoir en crÃ©er une autre ou recliquez sur l'onglet "Nouvelle annonce".
        </div>
  
        <div class="flex justify-end space-x-3">
          <button type="button"
                  class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition"
                  onclick="resetForm()">Annuler</button>
  
          <button type="submit"
                  class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
            ğŸ’¾ Enregistrer
          </button>
        </div>
      </form>
    </div>
</div>